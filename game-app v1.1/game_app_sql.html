<!DOCTYPE html>
<html>
<head>
	<title>Game</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Eczar" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript">
		
         // Create and open a database named Circles
         var db = openDatabase('Circles', '1.0', 'Test DB', 2 * 1024 * 1024)
			
      </script>
</head>
<body>
<div class="container">

	<section id="home_page">
		<div class="head">
			<h1>Circle game</h1>
		</div>
		<div class="buttonDiv">
			<div class="homes-button" id="b1"><h2>Rules</h2></div>
			<div class="homes-button" id="b2"><h2>Game</h2></div>
			<div class="homes-button" id="b3"><h2>Leaderboard</h2></div>
		</div>
	</section>

	<section id="Rules">
		<div class="head">
			<div class="button home"><p>Home</p></div>
			<h1 id="rules">Rules</h1>
		</div>
		<ol>
			<li>Click on the circle that the color matches the master circle</li>
			<li>The color will change and repeat step one</li>
			<li>Continue until time runs out</li>
			<li>If you click on the wrong circle the game will end</li>
			<li>The more answer you get right the more point you get</li>
		</ol>
	</section>

	<section id="Game">
		<div class="head">
			<div class="button home" id="exit_button"><p>Exit</p></div>
			<div class="time">
				<p id="time-label">Time:</p> 
				<p id="timer"></p>
			</div>
			<div class="score">
				<p>Score:</p> 
				<p id="points"></p>
		</div>
		</div>
		<div id="master"></div>
		<div class="game-container">
			<div class="row1">
				<div class="circle" id="circle1"></div>
				<div class="circle" id="circle2"></div>
			</div>
			<div class="row2">
				<div class="circle" id="circle3"></div>
				<div class="circle" id="circle4"></div>
			</div>
		</div>
		
	</section>

	<section id="Leaderboard">
		<div class="head">
			<div class="button home"><p>Home</p></div>
			<h1>Leaderboard</h1>
		</div>

		<table>
			<tr>
				<th>Postion</th>
				<th>Name</th>
				<th>Score</th>
			</tr>
			<tr>
				<td>1</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>2</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>3</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>4</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td>5</td>
				<td></td>
				<td></td>
			</tr>
		</table>
	</section>

	<section id="game_over">
		<div class="head">
			<h1>Game over</h1>
		</div>

		<div class="over">
			<h2>Good job, you have scored: </h2>
			<h2 id="score"></h2>
		</div>
		<div>
			<form action="#" onsubmit="updateDatabase()">
				<p>Name:</p>
				<br>
				<input type="text" id="player-name" name="name">
				<br>
				<p>Score:</p>
				<br>
				<input type="text" id="player-score" name="score">
				<br>
				<input type="submit" value="Submit">
			</form>
		</div>
				
		<div class="homes-button" id="play-again"><h2>Play Again</h2></div>
		<div class="homes-button" id="exit"><h2>Exit</h2></div>
	</section>

	<section id="quit">
		<div class="overlay"></div>
			<div id="cont">
			<span>
				<h1>Do you want to quit?</h1>
				<div class="homes-button" id="yes"><h2>Yes</h2></div>
				<div class="homes-button" id="no"><h2>No</h2></div>
			</span>
		</div>
		
	</section>
</div>
</body>
<script type="text/javascript" src="javas.js"></script>
<script>
   
   		// Function that gets data (score) from the database
   		function getScore(){
   			db.transaction(function (tx) {
   			   var name = $("#p-name").val();
				tx.executeSql('CREATE TABLE IF NOT EXISTS Leaderboard (name, score)');
				// Pass success and error functions that will be called in cass of success or error
                tx.executeSql('SELECT score FROM Leaderboard WHERE name="' + name + '"',[],getSuccess, errorDB);
            });
   		}

   		// Error function executes in case ANY errors occur in the transaction executions
   		function errorDB(err){
   			alert("Error: " + err.code);
   		}

   		// Success function for getScore - if the SELECT query worked this code will execute
   		function getSuccess(tx, results){
   			var len = results.rows.length;
   			if (len > 0){
   				for(i=0; i<len; i++){
   					alert(results.rows.item(0).score)
   				}
   			}else {
   				alert("There are 0 results matching your query");
   			}
   		}

   		// Function that inserts data in the Leaderboard table
   		function updateDatabase(){
   			var name = $("#player-name").val();
   			var score = $("#player-score").val();

   			db.transaction(function (tx) {
               tx.executeSql('CREATE TABLE IF NOT EXISTS Leaderboard (name, score)');
               tx.executeSql('INSERT INTO Leaderboard (name, score) VALUES ("'+name+'", '+score+')',[],updateSuccess, errorDB);
            });
   		}

   		// Function that executes if the transaction with the INSERT query was executed properly
   		// Note: failure would call the common errorDB function defined above 
   		function updateSuccess(){
   			alert("Record Inserted!");
   		}

   		// Function that drops a table from the Leaderboard database
        function dropTable(){
        	db.transaction(function (tx) {
               tx.executeSql('Drop TABLE Leaderboard',[],dropTableSuccess, errorDB);
            });
        }

		// Function that executes if the transaction with the DROP TABLE query was executed properly
		// Note: failure would call the common errorDB function defined above 
   		function dropTableSuccess(){
   			alert("Table Dropped!");
   		}

   		// Function that clears the table Leaderboard
        function clearTable() {
        	db.transaction(function (tx) {
               tx.executeSql('DELETE FROM Leaderboard');
               alert("Table Cleared!");
            });
     	}

		// Function that executes if the transaction with the DELETE FROM TABLE query was executed properly
		// Note: failure would call the common errorDB function defined above
     	function dropTableSuccess(){
   			alert("Table Dropped!");
   		}

   </script>
</html>